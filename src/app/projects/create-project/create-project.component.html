<form (ngSubmit)="sendProject()">
    <label for="project-name">Project name:</label>
    <input class="border-2" type="text" name="project-name" autocomplete="project-name" [(ngModel)]="newProject.name"
        id="project-name">
    <br>
    <div id="leader-container" class="flex flex-wrap">
        <label for="leader-email-or-username" class="self-center">Project leader email or username: </label>
        @if (leaders.length > 0) {
            @for (leader of leaders; track $index) {
                <div class="flex mx-2 px-0.5 border-2 rounded-xl">
                    <span class="leader-info mr-1 ml-0.5">{{leader.username}}</span>
                    <svg (click)="removeUser(leader.username)" class="hover:bg-gray-400 rounded-xl hover:cursor-pointer"
                        width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path d="M16 8L8 16M8.00001 8L16 16" stroke="#000000" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </g>
                    </svg>
                </div>
            }
        }
        <input (change)="addUser()" class="border-2" type="text" autocomplete="current-leader-email-or-username"
            [(ngModel)]="leaderEmailOrUsername" name="leader-email-or-username" id="leader-email-or-username">
    </div>
    @if (leaderEmailErrorMessage) {
    <p class="text-red-500">{{leaderEmailErrorMessage}}</p>
    }
    <label for="project-start-date">Project start date: </label>
    <input class="border-2" type="date" autocomplete="current-project-start-date" [(ngModel)]="newProject.start_date"
        name="project-start-date" id="project-start-date">
    <br>
    <label for="project-end-date">Project end date: </label>
    <input class="border-2" type="date" autocomplete="current-project-end-date" [(ngModel)]="newProject.end_date"
        name="project-end-date" id="project-end-date">
    <br>
    <button class="block bg-blue-500 text-white font-bold py-2 px-4 rounded" type="submit">Create</button>
</form>
@if(errorMessage) {
<p class="text-red-500">{{errorMessage}}</p>
} @else if (successMessage) {
<p class="text-green-800">{{successMessage}}</p>
}
